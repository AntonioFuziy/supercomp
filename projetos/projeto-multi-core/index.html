


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <link rel="canonical" href="https://insper.github.io/supercomp/projetos/projeto-multi-core/">
      
      
        <meta name="author" content="Igor Montagner, Lucianos Soares">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.1">
    
    
      
        <title>Multi-core: C++ e OpenMP - 7s - SuperComputação - Insper 2020/1</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a676eddb.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.b302131d.min.css">
      
      
        
        
        <meta name="theme-color" content="#757575">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/printing.css">
    
    
      
    
    
  </head>
  
  
    
    
    <body dir="ltr" data-md-color-primary="grey" data-md-color-accent="red">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#multi-core-c-e-openmp" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      











<!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Application header -->

<script>
  window.site_url = "https://insper.github.io/supercomp/";
</script>

<div class="md-printing-header">
  <img class="cabecalho" src="https://insper.github.io/supercomp/css/cabecalho.png">
  <img class="logo" src="https://insper.github.io/supercomp/css/logo.png">

  <div class="frontmatter">
    <div class="materia"> SuperComputação </div>
    <div class="professor"> Igor Montagner, Luciano Soares </div>
    <div class="semestre"> 2020/1 </div>
  </div>
</div>

<header class="md-header" data-md-component="header">

  <!-- Top-level navigation -->
  <nav class="md-header-nav md-grid" aria-label="Header">

    <!-- Link to home -->
    <a
      href="https://insper.github.io/supercomp/"
      title="7s - SuperComputação - Insper 2020/1"
      class="md-header-nav__button md-logo"
      aria-label="7s - SuperComputação - Insper 2020/1"
    >
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>

    <!-- Button to open drawer -->
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>

    <!-- Header title -->
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            7s - SuperComputação - Insper 2020/1
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Multi-core: C++ e OpenMP
            
          </span>
        </div>
      
    </div>

    <!-- Button to open search dialogue -->
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>

      <!-- Search interface -->
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository containing source -->
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/insper/supercomp/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    SuperComp
  </div>
</a>
      </div>
    
  </nav>
</header>




    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://insper.github.io/supercomp/" title="7s - SuperComputação - Insper 2020/1" class="md-nav__button md-logo" aria-label="7s - SuperComputação - Insper 2020/1">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    7s - SuperComputação - Insper 2020/1
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/insper/supercomp/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    SuperComp
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../sobre/" title="Sobre" class="md-nav__link">
      Sobre
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Aulas
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Aulas" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Aulas
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../aulas/00-organizacao/" title="Organização do repositório" class="md-nav__link">
      Organização do repositório
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aulas/01-intro-cpp/" title="01 - Introdução a C++" class="md-nav__link">
      01 - Introdução a C++
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aulas/02-stl/" title="02 - Templates e STL" class="md-nav__link">
      02 - Templates e STL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aulas/03-cmake/" title="03 - CMake e Debugging no VSCode" class="md-nav__link">
      03 - CMake e Debugging no VSCode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aulas/04-autovec/" title="04 - SIMD: Autovetorização" class="md-nav__link">
      04 - SIMD: Autovetorização
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aulas/05-intro-multi-core/" title="05 - Introdução a multi-core" class="md-nav__link">
      05 - Introdução a multi-core
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aulas/06-intro-openmp/" title="06 - Introdução a OpenMP" class="md-nav__link">
      06 - Introdução a OpenMP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aulas/07-openmp-for/" title="07 - OpenMP: Construções de alto nível" class="md-nav__link">
      07 - OpenMP: Construções de alto nível
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aulas/08-efeitos-colaterais/" title="08 - Efeitos colaterais" class="md-nav__link">
      08 - Efeitos colaterais
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aulas/09-tarefas/" title="09 - Tarefas" class="md-nav__link">
      09 - Tarefas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aulas/10-gpu-I/" title="10 - introdução a GPU" class="md-nav__link">
      10 - introdução a GPU
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Projetos
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Projetos" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Projetos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Índice" class="md-nav__link">
      Índice
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../checklist/" title="Requisitos básicos de projeto" class="md-nav__link">
      Requisitos básicos de projeto
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../projeto-pfe/" title="Projeto semestral - Alocação de alunos para o PFE" class="md-nav__link">
      Projeto semestral - Alocação de alunos para o PFE
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Multi-core: C++ e OpenMP
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="Multi-core: C++ e OpenMP" class="md-nav__link md-nav__link--active">
      Multi-core: C++ e OpenMP
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parte-1-estrategias-de-resolucao" class="md-nav__link">
    Parte 1: estratégias de resolução
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parte-2-paralelismo" class="md-nav__link">
    Parte 2: Paralelismo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#avaliacao" class="md-nav__link">
    Avaliação
  </a>
  
    <nav class="md-nav" aria-label="Avaliação">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estrategias-de-paralelizacao" class="md-nav__link">
    Estratégias de paralelização
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relatorio" class="md-nav__link">
    Relatório
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parte-1-estrategias-de-resolucao" class="md-nav__link">
    Parte 1: estratégias de resolução
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parte-2-paralelismo" class="md-nav__link">
    Parte 2: Paralelismo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#avaliacao" class="md-nav__link">
    Avaliação
  </a>
  
    <nav class="md-nav" aria-label="Avaliação">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estrategias-de-paralelizacao" class="md-nav__link">
    Estratégias de paralelização
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relatorio" class="md-nav__link">
    Relatório
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/insper/supercomp/edit/master/docs/projetos/projeto-multi-core.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>
                  </a>
                
                
                  
                
                
                <h1 id="multi-core-c-e-openmp">Multi-core: C++ e OpenMP<a class="headerlink" href="#multi-core-c-e-openmp" title="Permanent link">&para;</a></h1>
<p>O primeiro projeto consiste em implementar uma solução multi-core para o problema da <a href="../projeto-pfe/">Alocação de alunos do PFE</a>. Para facilitar sua ele será dividido em duas partes.</p>
<p>A primeira parte focará em criar uma solução que resolve este problema este C++ e compará-la com uma solução inocente em Python. Isto inclui estudar métodos de resolução do problema e implementá-los em C++.</p>
<p>A segunda parte tratará da paralelização destes métodos usando as técnicas mostradas em sala de aula. O programa deverá ser escrito usando OpenMP e deverá escalar o mais naturalmente possível conforme o número de cores aumenta.</p>
<h3 id="parte-1-estrategias-de-resolucao">Parte 1: estratégias de resolução<a class="headerlink" href="#parte-1-estrategias-de-resolucao" title="Permanent link">&para;</a></h3>
<p>O arquivo <code>solucao-ingenua.py</code> contém uma solução simplista escrita em Python. Este programa sempre encontra a melhor solução, mas é <strong>extremamente ingênuo</strong>. Por isso, ele também é <strong>extremamente lento</strong>.</p>
<p><strong>Implementação em C++</strong>:</p>
<p>Nosso primeiro passo será implementar esse mesmo programa em C++. O objetivo desta parte será implementar soluções para o problema sem nós preocuparmos com paralelismo e o primeiro passo para isso é implementar o algoritmo que está em Python em C++.</p>
<p><strong>Busca local</strong>:</p>
<p>A estratégia de busca local visa encontrar boas soluções em um processo de melhora iterativa. A partir de uma solução inicial (que pode ser aleatória), tentamos aplicar uma heurística (truque) que pode melhorar a solução (mas nunca piorar). Note que isto somente garante que a solução irá melhorar iterativamente, porém não garante que eventualmente chegaremos na melhor solução possível. Além dissto,</p>
<ol>
<li>a solução encontrada muda conforme a solução inicial</li>
<li>nem todas as soluções são possíveis de serem encontradas.</li>
</ol>
<p>Uma boa heurística geralmente é baseada em alguma característica da solução ótima. Para este problema usaremos a seguinte propriedade</p>
<blockquote>
<p>não existe nenhuma dupla de alunos que, se for trocada de projeto, melhora a satisfação global.</p>
</blockquote>
<p>Claramente se a solução é a melhor possível então isto não pode acontecer. Nosso algoritmo será</p>
<ol>
<li>escolha uma atribuição aluno-projeto válida aleatoriamente</li>
<li>verifique se existe um par de alunos cuja troca de projeto melhore a satisfação global<ul>
<li>se existir faça a troca e repita o teste acima</li>
<li>se não existir retorne a solução atual</li>
</ul>
</li>
</ol>
<p>Ao repertirmos este algoritmo conseguimos soluções razoáveis muito rapidamente. Ele é uma busca <strong>local</strong> pois seu resultado depende de qual solução inicial foi usada. Nem toda solução inicial resultará no ótimo <strong>global</strong> no fim do processo.</p>
<p><strong>Branch and Bound</strong>:</p>
<p>Nosso algoritmo simplório no item anterior faz várias escolhas recursivas (<em>branches</em>) e atualiza a melhor solução encontrada até o momento. Imagine a seguinte situação:</p>
<ul>
<li>em um certo momento temos uma solução  com valor <span><span class="MathJax_Preview">200</span><script type="math/tex">200</script></span></li>
<li>ainda faltam 3 alunos para serem alocados.</li>
<li>a melhor solução já encontrada tem valor <span><span class="MathJax_Preview">300</span><script type="math/tex">300</script></span>.</li>
</ul>
<p>Note que, mesmo se alocarmos os três alunos para sua primeira opção ficaríamos com uma solução de valor <span><span class="MathJax_Preview">275 &lt; 300</span><script type="math/tex">275 < 300</script></span>. Ou seja, não precisamos tentar alocá-los para projetos, pois mesmo que façamos o melhor possível ainda não conseguiremos superar a melhor solução atual!</p>
<p>Um <strong>bound</strong> é uma estimativa otimista para o valor final de uma solução parcial. Ou seja, dado que falta ainda alocar <em>X</em> alunos e tenho uma solução de valor <em>Y</em>, uma estimativa otimista seria supor que todos serão alocados em sua primeira opção (solução final com valor <span><span class="MathJax_Preview">&lt; Y + 25X</span><script type="math/tex">< Y + 25X</script></span>).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Um bound é uma <strong>estimativa otimista</strong>. Ou seja, pode não existir uma solução com este valor!</p>
</div>
<p>Um algoritmo <strong>branch and bound</strong> leva em conta essas estimativas em seu funcionamento:</p>
<ul>
<li>se o <strong>bound</strong> da solução atual for pior que a solução ótima atual, retorna</li>
<li>continue a recursão caso contrário</li>
</ul>
<p>Esta técnica evita que nossa recursão entre em <em>branches</em> que não tem chance nenhuma de descobrir a melhor solução (pois eles já são piores que uma solução válida conhecida).</p>
<p><strong>Heurísticas de busca</strong>:</p>
<p>O algoritmo recursivo implementado em Python testa todas as possibilidades de maneira bastante inocente. Ele não leva em conta, por exemplo, as preferência dos alunos ou o fato de alocar um aluno em uma opção com satisfação 0 não mudar o valor global da solução.</p>
<p>Este item envolve modificar a ordem que as soluções são analisadas de maneira a tentar encontrar primeiro as soluções de maior satisfação global. Combinada com o item anterior, está estratégia pode diminuir consideravelmente o tempo de execução.</p>
<p>Será obrigatório implementar este item em cima do branch and bound.</p>
<h3 id="parte-2-paralelismo">Parte 2: Paralelismo<a class="headerlink" href="#parte-2-paralelismo" title="Permanent link">&para;</a></h3>
<p>Cada item da parte anterior deverá ser paralelizado usando OpenMP. Isto deverá ser feito da maneira mais escalável possível: o tempo de execução do programa deverá diminuir conforme o número de cores aumenta.</p>
<p>Este item é o principal da entrega, mas ele se apoia inteiramente em cima dos itens da primeira entrega.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Os projetos da disciplina consideram que não é razoável tentar paralelizar um problema que vocês não sejam capazes de resolver sequencialmente.</p>
</div>
<h2 id="avaliacao">Avaliação<a class="headerlink" href="#avaliacao" title="Permanent link">&para;</a></h2>
<p>A entrega será dividida em duas partes:</p>
<ol>
<li>entrega do algoritmo sequencial em <em>C++</em>, comparando-o com a implementação em Python (30/03)</li>
<li>entrega final (antes da prova)</li>
</ol>
<p>Na primeira entrega são esperados os seguintes itens:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> <a href="../checklist/">Requisitos básicos</a> cumpridos</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Relatório comparando desempenho Python vs C++</li>
</ul>
<p>A entrega final será dividida em duas partes: estratégias de paralelização (55%) e relatório de desempenho (45%).</p>
<div class="admonition warning">
<p class="admonition-title">Requisitos básicos de projeto</p>
<p>Caso os <a href="../checklist/">requisitos básicos de projeto</a> não sejam cumpridos sua nota será limitada a <code>D</code>.</p>
</div>
<h3 id="estrategias-de-paralelizacao">Estratégias de paralelização<a class="headerlink" href="#estrategias-de-paralelizacao" title="Permanent link">&para;</a></h3>
<p>Cada funcionalidade do projeto corretamente implementada de maneira sequencia <strong>E</strong> paralela corresponde a um conceito neste item.</p>
<ul>
<li><strong>Conceito D</strong>: implementou a busca local e mostrou ganhos de desempenho proporcionais ao número de processadores disponíveis. Você deverá produzir executáveis nomeados <code>busca_local_seq</code> e <code>busca_local_par</code>.</li>
<li><strong>Conceito C</strong>: implementou o algoritmo recursivo ingênuo, mostrando ganhos de desempenho proporcionais ao número de processadores disponíveis. Você deverá produzir executáveis nomeados <code>busca_exaustiva_seq</code> e <code>busca_exaustiva_par</code>.</li>
<li><strong>Conceito B</strong>: implementou o <em>Branch and Bound</em> usando a função de <em>bound</em>  mostrada no enunciado e compartilhando a melhor solução entre as threads. Você deverá produzir executáveis nomeados <code>branch_bound_seq</code> e <code>branch_bound_par</code>.</li>
<li><strong>Conceito B+</strong>: implementou uma heurística de busca no algoritmo sequencial e no paralelo e mostrou que há grandes ganhos de desempenho em seu uso. Você deverá produzir executáveis nomeados <code>branch_bound_heuristico_seq</code> e <code>branch_bound_heuristico_par</code>.</li>
<li><strong>Conceito A+</strong>: implementou uma solução híbrida, com uma thread rodando busca local e as restantes executando o <em>Branch and Bound</em>. Você deverá produzir executáveis nomeados <code>branch_bound_hibrido_seq</code> e <code>branch_bound_hibrido_par</code>.</li>
</ul>
<p>Os conceitos acima estão apresentados em ordem de dificuldade. Em geral, a implementação de um conceito se apoia nas implementações dos conceitos anteriores.</p>
<h3 id="relatorio">Relatório<a class="headerlink" href="#relatorio" title="Permanent link">&para;</a></h3>
<p>Você deverá produzir um relatório de desempenho seguindo os moldes do Projeto 1. Ele será avaliado de acordo com a <a href="../rubrica.ods">rubrica de relatórios da disciplina</a></p>
<p>Os testes de seu projeto poderão ser limitados por tempo. Você pode limitar seu programa para rodar até no máximo 20 minutos. O objetivo é rodar entradas o maiores possível dentre</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../projeto-pfe/" title="Projeto semestral - Alocação de alunos para o PFE" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Projeto semestral - Alocação de alunos para o PFE
              </div>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.c51dfa35.min.js"></script>
      <script src="../../assets/javascripts/bundle.eaaa3931.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.58d22e8e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
      
        <script src="../../translate-admonitions.js"></script>
      
    
  </body>
</html>